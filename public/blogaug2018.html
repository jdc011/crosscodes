<!DOCTYPE html>
<html>
   <title>Crosscodes</title>
   <meta charset="UTF-8"> 
   <head>
      <!-- Bootstrap for mobile devices -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="width=device-width, initial-scale=1,
      maximum-scale=1, user-scalable=no">

      <!-- CSS -->
      <link rel="stylesheet" type="text/css" href="mystyle.css">
   </head>
   
   <!-- Styles and scripts -->
   <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"> 
   <link rel="icon" href="icon.png">
   <link rel="stylesheet"
   href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
   integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
   crossorigin="anonymous">
   <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
   crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
   crossorigin="anonymous"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
   crossorigin="anonymous"></script>
   <script src="nav.js"></script>

   <body background="background.jpg">
      <!-- Nav bar -->        
      <nav class="navbar navbar-expand-lg navbar-light bg-light" style="position:fixed">
         <ul class="navbar-nav mr-auto">
            <li><a href="index.html" style="font-size: 40px; font-family:Verdana, Geneva, sans-serif;"><b>Cross Codes</b></a></li>
         </ul>

         <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
         </button>
         
         <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav ml-auto" style="font-size: 25px">
               <li><a href="index.html">About</a></li>
               <li><a href="experience.html">Experience</a></li>
               <li><a href="projects.html">Projects</a></li>
               <li><a href="contact.html">Contact</a></li>
               <li><a href="blog.html" style="font-weight:bold;font-size: 35px;">Blog</a></li>
            </ul>
         </div>
      </nav>
      
      <br/>
      <br/>
      <br/>
      
      <!-- Content -->
      <div style="margin-left:0%"> 
         <div class="w3-container w3-animate-opacity">

         <br/>
         <br/>
         <br/>
         <br/>
         <br/>
         <br/>

         <div class="container">
            <div class="row">
               <div class="col">
                  <div class="title">
                     <center><font size="7px" style="color:grey;font-family:Georgia"><b>Archive: August 2018<br /></b></font>
                  </div>
               </div>
            </div>
         </div>

         <div class="container">
         <div class="row">
         <div class="col">
            <br/>
            
            <div class="box">
               <div class="title">
                  <center>
                     <font size="6px" style="color:grey;font-family:Georgia"><b>Cross Codes Blog<br /></b></font>
                  </center>
               </div>

               <br/>
               
               <img src="jeremy2.png" height="100%" width="100%"\>
               
               <br/>
               <br/>

               <hr color="grey"/>

               <center><input placeholder="Search..." list="posts" name="post" id="search"><br/><br/> 
               <input type="button" value="Search" onClick="javascript: 
                  switch(document.getElementById('search').value) {
                     case('Bad superblock remedy'):
                        window.open('blog.html#15','_self');
                        break;
                     case('Partitioning hard drives in Windows'):
                        window.open('blog.html#14','_self');
                        break;
                     case('Resume tips'):
                        window.open('blog.html#13','_self');
                        break;
                     case('2 Arduino projects'):
                        window.open('blog.html#12','_self');
                        break;
                     case('Including multiple Lua scripts'):
                        window.open('blog.html#11','_self');
                        break;
                     case('Introduction to Wireshark dissectors'):
                        window.open('blog.html#10','_self');
                        break;
                     case('Implementing DHCP on Junos'):
                        window.open('blog.html#9','_self');
                        break;
                     case('NVIDIA crashing on Linux'):
                        window.open('blog.html#8','_self');
                        break;
                     case('Dual booting a Windows machine'):
                        window.open('blog.html#7','_self');
                        break;
                     case('Juniper operating system'):
                        window.open('blog.html#6','_self');
                        break;
                     case('Five recruiters one question'):
                        window.open('blog.html#5','_self');
                        break;
                     case('SD Hacks experience'):
                        window.open('blog.html#4','_self');
                        break;
                     case('Resume growth and socio-economic entitlement'):
                        window.open('blog.html#3','_self');
                        break;
                     case('The study of Computer Science'):
                        window.open('blog.html#2','_self');
                        break;
                     case('University vs. industry'):
                        window.open('blog.html#1','_self');
                        break;
                     default:
                        window.open('blog404.html','_self');
                  }"/></center>
               <datalist id="posts">
               	  <option value="Bad superblock remedy">
               	  <option value="Partitioning hard drives in Windows">
                  <option value="Resume tips">
               	  <option value="2 Arduino projects">
               	  <option value="Including multiple Lua scripts">
                  <option value="Introduction to Wireshark dissectors">
                  <option value="Implementing DHCP on Junos">
                  <option value="NVIDIA crashing on Linux">
                  <option value="Dual booting a Windows machine">
                  <option value="Juniper operating system">
                  <option value="Five recruiters one question">
                  <option value="SD Hacks experience">
                  <option value="Resume growth and socio-economic entitlement">
                  <option value="The study of Computer Science">
                  <option value="University vs. industry">
               </datalist>

               <hr color="grey"/>

               <center>
                  <font size="5px" style="color:black"><b>Recent Posts</b></font> 
               </center>

               <font size="4px">

               <a href="blog.html#15">Bad superblock remedy</a><br/>	
               <a href="blog.html#14">Partitioning hard drives in Windows</a><br/>
               <a href="blog.html#13">Resume tips</a><br/>
               <a href="blog.html#12">2 Arduino projects</a><br/>

               <hr color="grey"/>

               <center>
                  <font size="5px" style="color:black"><b>Categories</b></font> 
               </center>

               <font size="4px"><a href="blogengineering.html">Engineering</a><br/>
               <a href="blogtechnical.html">Technical</a><br/>
               <a href="blogexperience.html">Experience</a><br/>
               <a href="blogindustry.html">Industry</a></font><br/>

               <hr color="grey"/>

               <center>
                  <font size="5px" style="color:black"><b>Archives</b></font> 
               </center>

               <font size="4px">
               	  <a href="blogaug2018.html">August 2018</a><br/>
               	  <a href="blogjuly2018.html">July 2018</a><br/>
               	  <a href="blogjune2018.html">June 2018</a><br/>
               	  <a href="blogmay2018.html">May 2018</a><br/>
               	  <a href="blogapr2018.html">April 2018</a><br/>
               	  <a href="blogmar2018.html">March 2018</a><br/>
               	  <a href="blogfeb2018.html">Februrary 2018</a><br/>
                  <a href="blogjan2018.html">January 2018</a><br/>
               </font>

               <hr color="grey"/>

               <center>
                  <font size="4px"><a href="blog.html">Blog home</a><br/></font>
               </center>
            </div>
            
         </div>
         <div class="col-lg-9">
         	<a name="15"></a>
            <br />
        <div class="box">
            <!-------------------------------------------------------------------------------------------------------------------------------------->
            <div class="title">
               <center><font size="7px" style="color:grey;font-family:Georgia"><b>Bad superblock remedy<br /></b></font>
               <p>
                  <font size="4px" style="color:white"><b>21 August 2018 | Technical</b></font><br/>
               </p></center>
            </div>
            <div style="text-align:left">
                <font size="4px" style="color:black">                    
                	There have been multiple times where I have experienced Linux booting into the temporary root file system "initramfs". After
                	doing some research, this seems to happen due to a bad superblock typically resulting from an unexpected shutdown. This was
                	very prominent in Linux Mint 18.3 Sylvia when my laptop battery would die. In this blog post, I present a remedy for bad
                	superblocks that has consistently worked for me. If the following cannot be done through the terminal when you boot, you will
                	need to make a bootable flash drive with Linux and do the following from there. To learn how to make a bootable flash drive,
                	please see my blog post <a href="blog.html#7">Dual booting a Windows machine</a>.<br/><br/>
                	<b>Repairing the superblock:</b><br/>
                	<div class="codebox">
                      <font style="font-family:'Courier New'">
                      	<font color="blue">#List all available partitions; '*' marks the partition of your Linux install<br/></font>
                      	<font color="lime">
                      	   sudo fdisk -l|grep Linux|grep -Ev 'swap'<br/>
                      	   /dev/sda1            2048 204587007 204584960 97.6G 83 Linux<br/>
                           /dev/sda2  *    204587008 214351871   9764864  4.7G 83 Linux<br/>
                           /dev/sda4       224116736 419428351 195311616 93.1G 83 Linux<br/><br/>                     	
                      	<font color="blue">#List all superblocks; '/dev/sda2' is my partition, replace that with where YOUR partition is<br/></font>
                      	   sudo dumpe2fs /dev/sda2 | grep superblock<br/>
                      	   Primary superblock at 0, Group descriptors at 1-6<br/>
                           Backup superblock at 32768, Group descriptors at 32769-32774<br/>
                           Backup superblock at 98304, Group descriptors at 98305-98310<br/>
                           Backup superblock at 163840, Group descriptors at 163841-163846<br/>
                           Backup superblock at 229376, Group descriptors at 229377-229382<br/>
                           Backup superblock at 294912, Group descriptors at 294913-294918<br/>
                           Backup superblock at 819200, Group descriptors at 819201-819206<br/>
                           Backup superblock at 884736, Group descriptors at 884737-884742<br/>
                           Backup superblock at 1605632, Group descriptors at 1605633-1605638<br/>
                           Backup superblock at 2654208, Group descriptors at 2654209-2654214<br/>
                           Backup superblock at 4096000, Group descriptors at 4096001-4096006<br/>
                           Backup superblock at 7962624, Group descriptors at 7962625-7962630<br/>
                           Backup superblock at 11239424, Group descriptors at 11239425-11239430<br/>
                           Backup superblock at 20480000, Group descriptors at 20480001-20480006<br/>
                           Backup superblock at 23887872, Group descriptors at 23887873-23887878<br/><br/>
                        <font color="blue">#Choose alternate superblock and repair it; '-y' flag automatically answers 'yes' to all questions; I chose block 32768<br/></font>
                           sudo fsck -b 32768 /dev/sda2 -y<br/>
                           fsck 1.40.2 (12-Jul-2007)<br/>
                           e2fsck 1.40.2 (12-Jul-2007)<br/>
                           /dev/sda2 was not cleanly unmounted, check forced.<br/>
                           Pass 1: Checking inodes, blocks, and sizes<br/>
                           Pass 2: Checking directory structure<br/>
                           Pass 3: Checking directory connectivity<br/>
                           Pass 4: Checking reference counts<br/>
                           Pass 5: Checking group summary information<br/>
                           Free blocks count wrong for group #241 (32254, counted=32253).<br/>
                           Fix? yes<br/>
                           Free blocks count wrong for group #362 (32254, counted=32248).<br/>
                           Fix? yes<br/>
                           Free blocks count wrong for group #368 (32254, counted=27774).<br/>
                           Fix? yes<br/>
                           ..........<br/>
                           /dev/sda2: ***** FILE SYSTEM WAS MODIFIED *****<br/>
                           /dev/sda2: 59586/30539776 files (0.6% non-contiguous), 3604682/61059048 blocks<br/><br/>
                        <font color="blue">#Finally mount the partition; remember to use YOUR partition, mine is '/dev/sda2'<br/></font>
                           sudo mount /dev/sda2 /mnt<br/>
                        </font>
                      </font>
                  </div><br/>
                  Hopefully this was helpful to anyone that has ever experienced this problem. Feel free to <a href="contact.html" target="_blank">contact me</a> for any concerns.
                </font>
            </div>
        </div>
        	

                   </font>
                   </font>
                   </font>
                   </font>
                   </font>
                   </font>
                  </font>
               
         </div>
         </div>
         </div>
         </div>
         </div>

         <br/>
         <br/>
         <br/>

         <center>
            <p><font size="4px" style="color:white">© Copyright 2018 Jeremy Cruz</p>
         </center>
      
      </div>
   </body>
</html>